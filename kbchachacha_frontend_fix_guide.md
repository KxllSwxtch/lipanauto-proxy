# KBChaChaCha Frontend Fix Guide

## üö® –ü—Ä–æ–±–ª–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

### –ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫?

–ù–∞ frontend –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–æ–¥–µ–ª–∏ –≤–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–∞ **–ø–æ–∫–æ–ª–µ–Ω–∏–π** –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è —Å–ø–∏—Å–æ–∫ **–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–≤–∏–≥–∞—Ç–µ–ª—è**. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

### –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã

**Backend –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API:**

- –î–ª—è –ø–æ–∫–æ–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `/carModel.json` (–∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è)
- –í–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ `/carName.json` (–∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–∫–æ–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Backend

‚úÖ **–≠–Ω–¥–ø–æ–∏–Ω—Ç –ø–æ–∫–æ–ª–µ–Ω–∏–π —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

- URL –∏–∑–º–µ–Ω–µ–Ω: `/api/kbchachacha/generations/{class_code}` (–≤–º–µ—Å—Ç–æ `{car_code}`)
- –ü–∞—Ä–∞–º–µ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `classCode` (–∏–∑ models endpoint) –≤–º–µ—Å—Ç–æ `carCode`
- API –∏–∑–º–µ–Ω–µ–Ω: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/carName.json` –≤–º–µ—Å—Ç–æ `/carModel.json`

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ Frontend

#### 1. –û–±–Ω–æ–≤–∏—Ç—å URL —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –ø–æ–∫–æ–ª–µ–Ω–∏–π

**–ë—ã–ª–æ:**

```typescript
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è carCode
const generationsUrl = `/api/kbchachacha/generations/${carCode}`
```

**–°—Ç–∞–ª–æ:**

```typescript
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è classCode –∏–∑ models endpoint
const generationsUrl = `/api/kbchachacha/generations/${classCode}`
```

#### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ models endpoint

**Models endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

```json
{
  "models": [
    {
      "className": "Í∑∏ÎûúÏ†Ä",
      "classCode": "1101", // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –¥–ª—è generations
      "carCode": "3301", // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –¥–ª—è configs-trims
      "makerName": "ÌòÑÎåÄ"
    }
  ]
}
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**

```typescript
// 1. –ü–æ–ª—É—á–∞–µ–º –º–æ–¥–µ–ª–∏
const models = await fetch(`/api/kbchachacha/models/${makerCode}`)

// 2. –î–ª—è –ø–æ–∫–æ–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ–º classCode
const generations = await fetch(
  `/api/kbchachacha/generations/${model.classCode}`
)

// 3. –î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ–º carCode (–∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è)
const configs = await fetch(
  `/api/kbchachacha/configs-trims/${generation.carCode}`
)
```

### –†–∞–∑–Ω–∏—Ü–∞ –≤ –¥–∞–Ω–Ω—ã—Ö

#### –ü–æ–∫–æ–ª–µ–Ω–∏—è (Generations) - —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```json
{
  "generations": [
    {
      "codeModel": "3330",
      "nameModel": "ÏèòÎÇòÌÉÄ Îîî Ïó£ÏßÄ(DN8)",
      "modelYear": "2023-ÌòÑÏû¨"
    },
    {
      "codeModel": "2994",
      "nameModel": "ÏèòÎÇòÌÉÄ (DN8)",
      "modelYear": "2019-2023"
    },
    {
      "codeModel": "1123",
      "nameModel": "YFÏèòÎÇòÌÉÄ",
      "modelYear": "2009-2012"
    }
  ]
}
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Configs-Trims) - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```json
{
  "configurations": [
    {
      "codeModel": "26892",
      "nameModel": "1.6 ÌÑ∞Î≥¥"
    },
    {
      "codeModel": "26891",
      "nameModel": "2.0"
    }
  ],
  "trims": [
    {
      "codeGrade": "001",
      "nameGrade": "ÌîÑÎ¶¨ÎØ∏ÏóÑ"
    }
  ]
}
```

### –ò–µ—Ä–∞—Ä—Ö–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è)

```
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ ‚Üí –ú–æ–¥–µ–ª–∏ ‚Üí –ü–æ–∫–æ–ª–µ–Ω–∏—è ‚Üí –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ + –¢—Ä–∏–º—ã
     ‚Üì             ‚Üì         ‚Üì           ‚Üì
  makerCode ‚Üí classCode ‚Üí carCode ‚Üí modelCode + gradeCode
```

### –ü—Ä–∏–º–µ—Ä—ã API –≤—ã–∑–æ–≤–æ–≤

```typescript
// 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏
GET / api / kbchachacha / manufacturers

// 2. –ú–æ–¥–µ–ª–∏ –¥–ª—è Hyundai (makerCode: 101)
GET / api / kbchachacha / models / 101

// 3. –ü–æ–∫–æ–ª–µ–Ω–∏—è –¥–ª—è Sonata (classCode: 1108)
GET / api / kbchachacha / generations / 1108

// 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è DN8 Sonata (carCode: 3330)
GET / api / kbchachacha / configs - trims / 3330
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```bash
# –ü–æ–∫–æ–ª–µ–Ω–∏—è Sonata - –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å –≥–æ–¥–∞–º–∏
curl "http://localhost:8000/api/kbchachacha/generations/1108"

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DN8 Sonata - –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è
curl "http://localhost:8000/api/kbchachacha/configs-trims/3330"
```

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ —Å—Ö–µ–º–∞—Ö

–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–ª–∞—Å—å –ø—Ä–µ–∂–Ω–µ–π, –∏–∑–º–µ–Ω–∏–ª—Å—è —Ç–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö.

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- **–ü–æ–∫–æ–ª–µ–Ω–∏—è** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (DN8, LF, YF –∏ —Ç.–¥.) —Å –≥–æ–¥–∞–º–∏ –≤—ã–ø—É—Å–∫–∞
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π (1.6 ÌÑ∞Î≥¥, 2.0, 2.0 LPG –∏ —Ç.–¥.)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞ –Ω–∞ backend. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å frontend –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.**
